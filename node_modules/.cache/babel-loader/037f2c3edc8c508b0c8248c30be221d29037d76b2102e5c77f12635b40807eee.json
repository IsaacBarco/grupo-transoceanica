{"ast":null,"code":"const API_KEY_MAIN = \"204581e92e2d46e49abe98c288f0989c\";\nconst API_KEY_ALTERNATIVE = \"deafbf7d5bc7485cb8d7761f2e0b379d\";\n\n// Función para consultar la API principal\nexport const fetchNews = async (searchQuery, page, language) => {\n  try {\n    const data = await fetchFromAPI(searchQuery, page, language, API_KEY_MAIN, \"https://newsapi.org/v2/everything\");\n    return data;\n  } catch (error) {\n    console.error(\"Error en la API principal:\", error.message);\n\n    //Función para consultar a la API alternativa\n    try {\n      console.log(\"Intentando con la API alternativa...\");\n      const dataAlternative = await fetchFromAPI(searchQuery, page, language, API_KEY_ALTERNATIVE, \"https://api-alternativa.com/v2/everything\");\n      return dataAlternative;\n    } catch (errorAlt) {\n      console.error(\"Error en la API alternativa:\", errorAlt.message);\n      throw new Error(\"No se pudieron obtener noticias de ninguna fuente. Intenta más tarde.\");\n    }\n  }\n};\n\n//Función para consultar una API ya sea principal o alternativa\nconst fetchFromAPI = async (searchQuery, page, language, apiKey, baseUrl) => {\n  const response = await fetch(`${baseUrl}?q=${searchQuery}&apiKey=${apiKey}&page=${page}&pageSize=10&language=${language}`);\n  if (!response.ok) {\n    const errorData = await response.json();\n    throw new Error(errorData.message || \"Error al obtener noticias\");\n  }\n  const data = await response.json();\n  return data.articles;\n};","map":{"version":3,"names":["API_KEY_MAIN","API_KEY_ALTERNATIVE","fetchNews","searchQuery","page","language","data","fetchFromAPI","error","console","message","log","dataAlternative","errorAlt","Error","apiKey","baseUrl","response","fetch","ok","errorData","json","articles"],"sources":["C:/Users/User/Desktop/GRUPO TRANSOCEÁNICA - PRUEBA TÉCNICA/prueba-tecnica-gt/src/utils/api.js"],"sourcesContent":["const API_KEY_MAIN = \"204581e92e2d46e49abe98c288f0989c\"; \r\nconst API_KEY_ALTERNATIVE = \"deafbf7d5bc7485cb8d7761f2e0b379d\"; \r\n\r\n// Función para consultar la API principal\r\nexport const fetchNews = async (searchQuery, page, language) => {\r\n    try {\r\n        \r\n        const data = await fetchFromAPI(searchQuery, page, language, API_KEY_MAIN, \"https://newsapi.org/v2/everything\");\r\n        return data;\r\n    } catch (error) {\r\n        console.error(\"Error en la API principal:\", error.message);\r\n\r\n        //Función para consultar a la API alternativa\r\n        try {\r\n            console.log(\"Intentando con la API alternativa...\");\r\n            const dataAlternative = await fetchFromAPI(searchQuery, page, language, API_KEY_ALTERNATIVE, \"https://api-alternativa.com/v2/everything\");\r\n            return dataAlternative;\r\n        } catch (errorAlt) {\r\n            console.error(\"Error en la API alternativa:\", errorAlt.message);\r\n            throw new Error(\"No se pudieron obtener noticias de ninguna fuente. Intenta más tarde.\");\r\n        }\r\n    }\r\n};\r\n\r\n//Función para consultar una API ya sea principal o alternativa\r\nconst fetchFromAPI = async (searchQuery, page, language, apiKey, baseUrl) => {\r\n    const response = await fetch(`${baseUrl}?q=${searchQuery}&apiKey=${apiKey}&page=${page}&pageSize=10&language=${language}`);\r\n    \r\n    if (!response.ok) {\r\n        const errorData = await response.json();\r\n        throw new Error(errorData.message || \"Error al obtener noticias\");\r\n    }\r\n\r\n    const data = await response.json();\r\n    return data.articles;\r\n};\r\n"],"mappings":"AAAA,MAAMA,YAAY,GAAG,kCAAkC;AACvD,MAAMC,mBAAmB,GAAG,kCAAkC;;AAE9D;AACA,OAAO,MAAMC,SAAS,GAAG,MAAAA,CAAOC,WAAW,EAAEC,IAAI,EAAEC,QAAQ,KAAK;EAC5D,IAAI;IAEA,MAAMC,IAAI,GAAG,MAAMC,YAAY,CAACJ,WAAW,EAAEC,IAAI,EAAEC,QAAQ,EAAEL,YAAY,EAAE,mCAAmC,CAAC;IAC/G,OAAOM,IAAI;EACf,CAAC,CAAC,OAAOE,KAAK,EAAE;IACZC,OAAO,CAACD,KAAK,CAAC,4BAA4B,EAAEA,KAAK,CAACE,OAAO,CAAC;;IAE1D;IACA,IAAI;MACAD,OAAO,CAACE,GAAG,CAAC,sCAAsC,CAAC;MACnD,MAAMC,eAAe,GAAG,MAAML,YAAY,CAACJ,WAAW,EAAEC,IAAI,EAAEC,QAAQ,EAAEJ,mBAAmB,EAAE,2CAA2C,CAAC;MACzI,OAAOW,eAAe;IAC1B,CAAC,CAAC,OAAOC,QAAQ,EAAE;MACfJ,OAAO,CAACD,KAAK,CAAC,8BAA8B,EAAEK,QAAQ,CAACH,OAAO,CAAC;MAC/D,MAAM,IAAII,KAAK,CAAC,uEAAuE,CAAC;IAC5F;EACJ;AACJ,CAAC;;AAED;AACA,MAAMP,YAAY,GAAG,MAAAA,CAAOJ,WAAW,EAAEC,IAAI,EAAEC,QAAQ,EAAEU,MAAM,EAAEC,OAAO,KAAK;EACzE,MAAMC,QAAQ,GAAG,MAAMC,KAAK,CAAC,GAAGF,OAAO,MAAMb,WAAW,WAAWY,MAAM,SAASX,IAAI,yBAAyBC,QAAQ,EAAE,CAAC;EAE1H,IAAI,CAACY,QAAQ,CAACE,EAAE,EAAE;IACd,MAAMC,SAAS,GAAG,MAAMH,QAAQ,CAACI,IAAI,CAAC,CAAC;IACvC,MAAM,IAAIP,KAAK,CAACM,SAAS,CAACV,OAAO,IAAI,2BAA2B,CAAC;EACrE;EAEA,MAAMJ,IAAI,GAAG,MAAMW,QAAQ,CAACI,IAAI,CAAC,CAAC;EAClC,OAAOf,IAAI,CAACgB,QAAQ;AACxB,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}